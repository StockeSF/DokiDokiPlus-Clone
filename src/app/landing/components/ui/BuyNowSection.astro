---
import DokiBtn from '@shared/components/ui/DokiBtn.astro'

interface Props {
  title: string
  btnTitle: string
  link: string
  img: Record<'src' | 'alt', string>
  iterator: number
}

const { title, link, btnTitle, img, iterator } = Astro.props
---

<article
  class:list={[
    "buynow__section",
    { "buynow__section--even": iterator % 2 }
  ]}
>
  <picture
    class="buynow__picture"
    data-translate-style="buynow"
    data-translate-media-query="lg"
  >
    <source srcset={`${img.src}.avif`} type="image/avif">
    <img
      src={`${img.src}.webp`}
      class="buynow__img"
      decoding="async"
      loading="lazy"
      alt={img.alt}
    />
  </picture>

  <div class="buynow__content">
    <h2
      class="buynow__title animate"
      data-intersection-observer="fadeUp"
      data-intersection-observer-delay="150"
    >
      {title}
    </h2>

    <DokiBtn as="a" href={link} variant="lg" typeBtn="g&m" class="animate" data-intersection-observer="fadeUp">
      {btnTitle}
    </DokiBtn>
  </div>
</article>
